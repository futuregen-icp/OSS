# 웹서버란
사용자가 브라우저를 이용해 웹 사이트에 접속하면 웹서버에게 html파일을 요청하게되고, 그 요청을 받은 웹서버는 사용자에게 html파일을 제공함으로써 브라우저를 이용해 웹페이지를 볼수있게 된다.
동작 방식으론 정적인 웹서버와 동적인 웹서버로 나뉜다.

- 정적인 웹서버는 단순히 html문서만을 사용자에게 제공하기 때문에 아파치 웹 서버 하나면 구동가능하다.
- 동적인 웹서버는 사용자의 요구에 따라 다양한 웹 페이지를 제공한다.이를 구성하기 위해 php와 mysql을 연계해서 사용한다.
# APM
웹서버를 구성할때 가장 많이 쓰이는 Apache , PHP , Mysql 의 첫글자를 인용해 만든 이름.

 - 

## Apache : http 웹서버

 Apache란 소프트웨어 단체 이름이다. 아파치 소프트웨어 재단에서 관리하고 있는 월드와이드 웹 서버용 소프트웨어로 오픈 소스로 제공된다. 


## PHP : c언어 기반의 웹프로그래밍 언어

php는 스크립트 형식으로 되어있어 작성된 html 코드 안에 추가 해주면 서버에서 php코드를 해석해서 웹 페이지를 생성한다.정적 모듈과 동적 모듈이 있고 정적모듈을 사용하면 php가 아파치에 고정 되고 처리속도가 빠르다.동적 모듈은 보통 DSO라 불리고 클라이언트의 요청이 있을 때 프로세스에 포함되는 방식이다.언제든지 다른 모듈이나 라이브러리를 적재할수 있다. 

## Mysql : 오픈소스 RDBMS
*관계형 데이터베이스 관리 시스템(RDBMS)*으로 mysql AB사가 개발 하여 배포하는 오픈소스 데이터 베이스이다.
- 용어정리
-- 스키마 (Schema): 데이터베이스의 구조와 제약 조건에 관한 전반적인 명세를 기술한 집합.
-- 쿼리(Query) : 데이터베이스에 정보를 요청하는것. 질의
-- SQL : 관계형 데이터베이스 관리 시스템의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어

## APM구동원리

클라이언트->Apache->PHP->Mysql->DB->Mysql->PHP->Apache->클라이언트

--클라이언트에서 출발하여 DB에 있는 정보까지 도달하면, 다시 클라이언트로 되돌아 오는 형태이다. 

## WAS(Web Application Server)
DB 조회나 다양한 로직 처리를 요구하는 동적인 컨텐츠를 제공하기 위해 만들어진 어플리케이션 서버 ex)Tomcat
웹 컨테이너 혹은 서블릿 컨테이너라고도 불린다.
즉, Was = Web server + Web container

## Web 서버와 Was 구분
자원 이용의 효율성 및 장애 극복 , 배포 및 유지보수의 편의성을 위해 웹서버와 WAS를 분리하여 사용한다.

![enter image description here](https://camo.githubusercontent.com/5ba9c98e29a385a593c1f86546a00dd69b6f977f/68747470733a2f2f676d6c776a64393430352e6769746875622e696f2f696d616765732f7765622f7374617469632d76732d64796e616d69632e706e67)


## APM 바이너리 설치
<교본에 안내된 버전으로 설치>
 - [ apache httpd-2.2.4 설치]
 - wget http://archive.apache.org/dist/httpd/httpd-2.2.4.tar.gz  다운로드 후
 - tar -zxvf httpd-2.2.4.tar.gz 압축 해재 
 - [  mysql-5.0.37 설치 ]
 - wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.0.37.tar.gz 다운로드 
 - tar -zxvf mysql-5.0.37.tar.gz 압축 해재
 - [ PHP-5.3.4 설치]
 - wget http://museum.php.net/php5/php-5.3.4.tar.gz
 - tar -zxf php-5.3.4.tar.gz 압축 해재 

> php 5.2.x 릴리즈에 컴파일 오류로 5.3.4 설치 ,
 구글링하여 패치 파일 설치 
## 필요 컴파일러 및 라이브러리 설치
 1. yum -y install gcc cpp gcc-c++ compat-gcc-32-g77 flex
 2. yum -y install libjpeg-devel libpng-devel freetype-devel gd-devel 
--컴파일러 : 번역프로그램 
원시프로그램->컴파일러->타겟프로그램
> 설치순서 : mysql -> apache -> php
## mysql 설치
 1. mysql 사용자 계정 생성
useradd -M -s /bin/false mysql 
tip) 쉘 사용권이 없고 유저 기본 디렉터리를 만들지 않음
2. ./configure실행 
./configure --prefix=/usr/local/server/mysql --with-charset=utf8 --with-extra-charset=all
--옵션 값 
/usr/local/server/mysql 바이너리 설치 경로 지정,
기본 문자셋을  utf8 지정 -한글깨짐방지, 추가 charset 지정
3. make && make install
4. 환경설정 샘플파일을 my.cnf 로 복사
cp support-files/my-large.cnf /etc/my.cnf
5. 기본 DB 생성
cd /server/mysql 
bin/mysql_install_db --user=mysql


> 컴파일 오류 // yum -y install libtermcap-devel ncurses-devel / 라이브러리 추가 설치 //컴파일오류시 make >& error.txt 로 확인할것!





